{"ast":null,"code":"import _defineProperty from \"/home/dev/Bureau/frontSimplon/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/dev/Bureau/frontSimplon/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dev/Bureau/frontSimplon/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dev/Bureau/frontSimplon/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dev/Bureau/frontSimplon/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dev/Bureau/frontSimplon/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dev/Bureau/frontSimplon/src/Component/inscription.js\";\nimport React, { Component } from 'react';\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn } from \"mdbreact\";\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner';\nimport Zoom from 'react-reveal/Zoom';\n\nvar inscription =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(inscription, _Component);\n\n  function inscription() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, inscription);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(inscription)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      nom: \"\",\n      prenom: \"\",\n      email: \"\",\n      tel: \"\",\n      loading: false\n    };\n\n    _this.submitHandler = function (event) {\n      event.preventDefault();\n      event.target.className += \" was-validated\";\n\n      _this.inscription({\n        nom: _this.state.nom,\n        prenom: _this.state.prenom,\n        email: _this.state.email,\n        tel: _this.state.tel,\n        idAtelier: _this.props.idAtelier\n      });\n    };\n\n    _this.changeHandler = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    return _this;\n  }\n\n  _createClass(inscription, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(this.props.idAtelier); // if(this.props.idAtelier){\n      //     this.props.history.push(\"/\")\n      // }\n    }\n  }, {\n    key: \"inscription\",\n    value: function inscription(r) {\n      var _this2 = this;\n\n      this.setState({\n        loading: true\n      });\n      console.log(r);\n      axios.post(\"https://bestoffood.herokuapp.com/inscription\", r).then(function (res) {\n        if (res.data == \"email deja utilisé\") {\n          _this2.setState({\n            loading: false\n          });\n\n          document.getElementById(\"erreur\").innerHTML = \"Email deja utilisé\";\n        } else if (res.data == \"mank donnee\") {\n          _this2.setState({\n            loading: false\n          });\n\n          document.getElementById(\"erreur\").innerHTML = \"Manque de donnée\";\n        } else {\n          axios.put(\"https://bestoffood.herokuapp.com/updPlaceRes\", {\n            id: _this2.props.idAtelier\n          }).then(function (res2) {\n            _this2.setState({\n              loading: false\n            });\n\n            console.log(\"res2\", res2);\n            console.log(\"res1\", res);\n            document.getElementById(\"reussi\").innerHTML = \"Inscription réussie\";\n            document.getElementById(\"erreur\").innerHTML = \"\";\n          }).catch(function (err) {\n            console.log(\"err\", err);\n          });\n        }\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var container = {\n        height: 800\n      };\n      return React.createElement(Zoom, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(MDBContainer, {\n        style: container,\n        className: \"text-center mt-5 pt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"needs-validation\",\n        noValidate: true,\n        onSubmit: this.submitHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"4\",\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"defaultFormRegisterNameEx\",\n        className: \"grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Nom\"), React.createElement(\"input\", {\n        value: this.state.fname,\n        name: \"nom\",\n        onChange: this.changeHandler,\n        type: \"text\",\n        id: \"defaultFormRegisterNameEx\",\n        className: \"form-control\",\n        placeholder: \"\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"valid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Bien!\")), React.createElement(MDBCol, {\n        md: \"4\",\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"defaultFormRegisterEmailEx2\",\n        className: \"grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Prenom\"), React.createElement(\"input\", {\n        value: this.state.lname,\n        name: \"prenom\",\n        onChange: this.changeHandler,\n        type: \"text\",\n        id: \"defaultFormRegisterEmailEx2\",\n        className: \"form-control\",\n        placeholder: \"\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"valid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Bien!\")), React.createElement(MDBCol, {\n        md: \"4\",\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"defaultFormRegisterConfirmEx3\",\n        className: \"grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        value: this.state.email,\n        onChange: this.changeHandler,\n        type: \"email\",\n        id: \"defaultFormRegisterConfirmEx3\",\n        className: \"form-control\",\n        name: \"email\",\n        placeholder: \"\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(\"small\", {\n        id: \"emailHelp\",\n        className: \"form-text text-muted\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"We'll never share your email with anyone else.\"))), React.createElement(MDBRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(MDBCol, {\n        md: \"4\",\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"defaultFormRegisterPasswordEx4\",\n        className: \"grey-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Telephone\"), React.createElement(\"input\", {\n        value: this.state.city,\n        onChange: this.changeHandler,\n        type: \"text\",\n        id: \"defaultFormRegisterPasswordEx4\",\n        className: \"form-control\",\n        name: \"tel\",\n        placeholder: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"valid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Looks good!\"))), React.createElement(MDBBtn, {\n        color: \"primary\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"S' inscrire\")), React.createElement(\"h2\", {\n        id: \"erreur\",\n        style: {\n          color: \"#f3671f\",\n          fontSize: \"2em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        id: \"reussi\",\n        style: {\n          color: \"#f3671f\",\n          fontSize: \"2em\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }), this.state.loading ? React.createElement(Loader, {\n        type: \"ThreeDots\",\n        color: \"#f3671f\",\n        height: \"100\",\n        width: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }) : \"\"), React.createElement(\"footer\", {\n        class: \"page-footer font-small black\",\n        style: {\n          backgroundColor: \"#d05c62\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"footer-copyright text-center py-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"\\xA9 2018 Copyright:\", React.createElement(\"a\", {\n        href: \"https://mdbootstrap.com/education/bootstrap/\",\n        style: {\n          color: \"black\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \" RijaPrincy\"))));\n    }\n  }]);\n\n  return inscription;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    idAtelier: state.idAtelier\n  };\n};\n\nexport default connect(mapStateToProps)(inscription);","map":{"version":3,"sources":["/home/dev/Bureau/frontSimplon/src/Component/inscription.js"],"names":["React","Component","MDBContainer","MDBRow","MDBCol","MDBBtn","axios","connect","Loader","Zoom","inscription","state","nom","prenom","email","tel","loading","submitHandler","event","preventDefault","target","className","idAtelier","props","changeHandler","setState","name","value","console","log","r","post","then","res","data","document","getElementById","innerHTML","put","id","res2","catch","err","container","height","fname","lname","city","color","fontSize","backgroundColor","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn } from \"mdbreact\";\nimport axios from 'axios'\nimport { connect } from 'react-redux'\nimport Loader from 'react-loader-spinner'\nimport Zoom from 'react-reveal/Zoom';\n\nclass inscription extends Component {\n    state = {\n        nom: \"\",\n        prenom: \"\",\n        email: \"\",\n        tel: \"\",\n        loading:false\n\n    };\n    componentDidMount() {\n        console.log(this.props.idAtelier);\n        // if(this.props.idAtelier){\n        //     this.props.history.push(\"/\")\n        // }\n\n    }\n\n    submitHandler = event => {\n        event.preventDefault();\n        event.target.className += \" was-validated\";\n        this.inscription({\n            nom: this.state.nom,\n            prenom: this.state.prenom,\n            email: this.state.email,\n            tel: this.state.tel,\n            idAtelier: this.props.idAtelier\n        })\n    };\n\n    changeHandler = event => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n    inscription(r) {\n        this.setState({loading:true})\n        console.log(r);\n        axios.post(\"https://bestoffood.herokuapp.com/inscription\", r)\n            .then(res => {\n                if (res.data == \"email deja utilisé\") {\n                    this.setState({loading:false})\n                    document.getElementById(\"erreur\").innerHTML = \"Email deja utilisé\"\n                } else if (res.data == \"mank donnee\") {\n                    this.setState({loading:false})\n                    document.getElementById(\"erreur\").innerHTML = \"Manque de donnée\"\n\n                } else {\n                    axios.put(\"https://bestoffood.herokuapp.com/updPlaceRes\", { id: this.props.idAtelier })\n                        .then(res2 => {\n                            this.setState({loading:false})\n                            console.log(\"res2\", res2);\n                            console.log(\"res1\", res);\n                            document.getElementById(\"reussi\").innerHTML = \"Inscription réussie\"\n                            document.getElementById(\"erreur\").innerHTML = \"\"\n                        }).catch(err => {\n                            console.log(\"err\", err);\n\n                        })\n                }\n\n\n\n            }).catch(err => {\n                \n                console.log(err);\n\n            })\n    }\n\n    render() {\n        const container = { height: 800 }\n        return (\n            <Zoom>\n                <MDBContainer style={container} className=\"text-center mt-5 pt-5\">\n                    <form\n                        className=\"needs-validation\"\n                        noValidate\n                        onSubmit={this.submitHandler}\n\n                    >\n                        <MDBRow>\n                            <MDBCol md=\"4\" className=\"mb-3\">\n                                <label\n                                    htmlFor=\"defaultFormRegisterNameEx\"\n                                    className=\"grey-text\"\n                                >\n                                    Nom\n                            </label>\n                                <input\n                                    value={this.state.fname}\n                                    name=\"nom\"\n                                    onChange={this.changeHandler}\n                                    type=\"text\"\n                                    id=\"defaultFormRegisterNameEx\"\n                                    className=\"form-control\"\n                                    placeholder=\"\"\n                                    required\n                                />\n                                <div className=\"valid-feedback\">Bien!</div>\n                            </MDBCol>\n                            <MDBCol md=\"4\" className=\"mb-3\">\n                                <label\n                                    htmlFor=\"defaultFormRegisterEmailEx2\"\n                                    className=\"grey-text\"\n                                >\n                                    Prenom\n                             </label>\n                                <input\n                                    value={this.state.lname}\n                                    name=\"prenom\"\n                                    onChange={this.changeHandler}\n                                    type=\"text\"\n                                    id=\"defaultFormRegisterEmailEx2\"\n                                    className=\"form-control\"\n                                    placeholder=\"\"\n                                    required\n                                />\n                                <div className=\"valid-feedback\">Bien!</div>\n                            </MDBCol>\n                            <MDBCol md=\"4\" className=\"mb-3\">\n                                <label\n                                    htmlFor=\"defaultFormRegisterConfirmEx3\"\n                                    className=\"grey-text\"\n                                >\n                                    Email\n                             </label>\n                                <input\n                                    value={this.state.email}\n                                    onChange={this.changeHandler}\n                                    type=\"email\"\n                                    id=\"defaultFormRegisterConfirmEx3\"\n                                    className=\"form-control\"\n                                    name=\"email\"\n                                    placeholder=\"\"\n                                    required\n                                />\n                                <small id=\"emailHelp\" className=\"form-text text-muted\">\n                                    We'll never share your email with anyone else.\n                            </small>\n                            </MDBCol>\n                        </MDBRow>\n                        <MDBRow>\n                            <MDBCol md=\"4\" className=\"mb-3\">\n                                <label\n                                    htmlFor=\"defaultFormRegisterPasswordEx4\"\n                                    className=\"grey-text\"\n                                >\n                                    Telephone\n                            </label>\n                                <input\n                                    value={this.state.city}\n                                    onChange={this.changeHandler}\n                                    type=\"text\"\n                                    id=\"defaultFormRegisterPasswordEx4\"\n                                    className=\"form-control\"\n                                    name=\"tel\"\n                                    placeholder=\"\"\n\n                                />\n                                <div className=\"invalid-feedback\">\n                                    \n                            </div>\n                                <div className=\"valid-feedback\">Looks good!</div>\n                            </MDBCol>\n\n                        </MDBRow>\n                        {/* <MDBCol md=\"4\" className=\"mb-3\">\n                        <div className=\"custom-control custom-checkbox pl-3\">\n                            <input\n                                className=\"custom-control-input\"\n                                type=\"checkbox\"\n                                value=\"\"\n                                id=\"invalidCheck\"\n                                required\n                            />\n                            <label className=\"custom-control-label\" htmlFor=\"invalidCheck\">\n                                Agree to terms and conditions\n                            </label>\n                            <div className=\"invalid-feedback\">\n                                You must agree before submitting.\n                            </div>\n                        </div>\n                    </MDBCol> */}\n                        <MDBBtn color=\"primary\" type=\"submit\" >\n                            S' inscrire\n              </MDBBtn>\n\n                    </form>\n                    <h2 id=\"erreur\" style={{color:\"#f3671f\",fontSize:\"2em\"}}></h2>\n                    <h2 id=\"reussi\" style={{color:\"#f3671f\",fontSize:\"2em\"}}></h2>\n                    {this.state.loading?                                <Loader \n                                    type=\"ThreeDots\"\n                                    color=\"#f3671f\"\n                                    height=\"100\"\t\n                                    width=\"100\"\n                                />   :\"\"}\n\n                </MDBContainer>\n                <footer class=\"page-footer font-small black\" style={{ backgroundColor: \"#d05c62\"}}>\n\n\n                    <div class=\"footer-copyright text-center py-3\">© 2018 Copyright:\n                        <a href=\"https://mdbootstrap.com/education/bootstrap/\" style={{ color: \"black\" }}> RijaPrincy</a>\n                    </div>\n\n\n                </footer>\n\n            </Zoom>\n\n        );\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        idAtelier: state.idAtelier\n    }\n}\nexport default connect(mapStateToProps)(inscription)\n"]},"metadata":{},"sourceType":"module"}